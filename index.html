<!DOCTYPE html>

<html>
    <head>
	    <title>Tonic: A RESTful Web App Development PHP Library</title>
        <link rel="stylesheet" type="text/css" href="tonic.css">
	</head>
	<body>
	    <div id="header">
            <h1>Tonic</h1>
            <h2>A RESTful Web App Development PHP Library</h2>
            <ul id="nav">
                <li class="selected"><a href="/tonic">Homepage</a></li>
				<li class="last"><a href="http://github.com/peej/tonic">GitHub Project</a></li>
            </ul>
        </div>
       
        <div id="content">
			
			<div id="elevator" class="box">
                Tonic is an open source less is more, <a href="http://rest.blueoxen.net/cgi-bin/wiki.pl?FrontPage" title="The REST Wiki">RESTful</a> Web application development
                <a href="http://www.php.net/">PHP</a> library designed to do things "<strong><a href="http://adambosworth.net/2004/11/18/iscoc04-talk/" title="Adam Bosworth on the Web">the right way</a></strong>", where
                <strong>resources are king</strong> and the library <strong>gets out of the way</strong> and leaves the
                developer to get on with it.
            </div>
            
            <div class="half-box info-box right">
                <h3>History</h3>
                <p>Tonic as a project was started in 2007 as a tool to aid the building
                of Web applications while supporting the 5 principles of REST. As the
                project grew, I realised that the code placed too much restriction
                on data sources forcing the developer to coerce them into resources in
                a too abstract way.</p>
                <p>As such, over the winter holidays of 2009 I started to think about
                how to improve this and the result was a new version 2 codebase. <a href="http://tonic.sourceforge.net/">The old
                version 1 code can still be found on SourceForge</a>.</p>
            </div>
            
            <p>To understand Tonic, you need to <strong>get</strong> the Web, so forget everything you know for a minute and think about how the Web
            really works, it's not about HTML pages, it's about resources:</p> 
            <ul> 
                <li><strong>Everything useful is a resource</strong>, not a file, not a <abbr title="common gateway interface">CGI</abbr> script, a resource, an abstract concept of something
                useful that the client wants to grab hold of.</li> 
                <li><strong>Resources are located by <abbr title="Uniform resource locator">URL</abbr>s</strong>, URLs are cheap and form the
                universal addressing system of the Web.</li> 
                <li>Clients can issue a <strong>standard number of HTTP methods</strong> upon an infinite number of resources and receive
                something useful in return.</li> 
                <li><strong>Representations of resources</strong> are sent back to the client, a representation is just a way of turning the abstract
                concept of a resource into something more concrete, like a HTML page or a XML file. One resource can have many
                different representations.</li> 
            </ul> 
            <p>Tonic helps you develop Web applications that embrace the way the Web really works, enabling your applications
            to scale, extend and work with other systems easily.</p> 
            
            <h3>Quick Example</h3>
            
            <h4>Front controller</h4>
            <p>Tonic uses the common front controller pattern to push all required traffic to
            a single script that then dispatches the request to the correct piece of developer
            logic to handle the request. The typical dispatcher PHP file looks like:</p>
            <script type="syntaxhighlighter" class="brush: php"><![CDATA[
<?php

require_once '../lib/tonic.php';
require_once '../resources/example.php';

$request = new Request();
$resource = $request->loadResource();
$response = $resource->exec($request);
$response->output();

?>
            ]]></script><p class="caption">docroot/dispatch.php</p>
            
            <h4>Defining resources</h4>
            <p>With the dispatcher set up and all requests being forwarded to it by the
            Web server, we can then define a resource class to handle a request to a
            specific URL:</p>
            <script type="syntaxhighlighter" class="brush: php"><![CDATA[
<?php
 
/**
 * An example resource
 * @uri /example
 */
class ExampleResource extends Resource {
    
    function get($request) {
        
        $response = new Response($request);
        $response->code = Response::OK;
        $response->addHeader('content-type', 'text/plain');
        $response->body = 'This is only an example';
        return $response;
        
    }
    
}

?>
            ]]></script><p class="caption">resource/example.php</p>
            
            <h3>Features</h3>
            <dl>
                <dt>Content negotiation</dt>
                <dd>Content and language negotiation support allowing you to easily pick
                the best representation for the client request.</dd>
                <dt>Output encoding</dt>
                <dd>Built-in support for compressed responses.</dd>
                <dt>Client side caching</dt>
                <dd>Support for sending correct cache control headers, entity tags, and
                304 response codes.</dd>
                <dt>Collection resources</dt>
                <dd>Support for managing a collection of resources.</dd>
            </dl>
            
            <h3>What Next?</h3>
            <p>More to come hopefully. Please checkout the code and have a play, <a href="http://github.com/peej/tonic/issues">comments</a>
            and <a href="http://help.github.com/forking/">pull requests</a> most welcome.</p>
            
            <div id="date">Created Jan 1, 2010, last modified Jan 1, 2010</div>
        </div>
        
        <script type="text/javascript" src="syntaxhighlighter/shCore.js"></script>
        <script type="text/javascript" src="syntaxhighlighter/shBrushPhp.js"></script>
        <link type="text/css" rel="stylesheet" href="syntaxhighlighter/shCore.css">
        <link type="text/css" rel="stylesheet" href="syntaxhighlighter/shThemeDefault.css">
        <script type="text/javascript">
            SyntaxHighlighter.all();
        </script>
	</body>
</html>
